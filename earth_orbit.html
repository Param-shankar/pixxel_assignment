<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>3D Earth Orbit</title>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }
      #three-canvas {
        display: block;
        width: 100%;
        height: 100%;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
  </head>
  <body>
    <canvas id="three-canvas"></canvas>

    <script>
      // === Renderer setup ===
      const canvas = document.getElementById("three-canvas");
      const renderer = new THREE.WebGLRenderer({ canvas, antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setPixelRatio(window.devicePixelRatio);

      // === Scene & camera ===
      const scene = new THREE.Scene();
      scene.background = new THREE.Color(0x000000);

      const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 100);
      camera.position.set(0, 2, 5);

      const light = new THREE.PointLight(0xffffff, 1.5);
      light.position.set(5, 5, 5);
      scene.add(light);

      // === Earth ===
      const earthGeo = new THREE.SphereGeometry(1, 64, 64);
      const earthMat = new THREE.MeshStandardMaterial({ color: 0x2266ff });
      const earth = new THREE.Mesh(earthGeo, earthMat);
      scene.add(earth);

      // === Orbit path ===
      const orbitRadius = 2.0;
      const orbitPoints = [];
      for (let i = 0; i <= 360; i++) {
        const angle = i * (Math.PI / 180);
        orbitPoints.push(new THREE.Vector3(
          orbitRadius * Math.cos(angle),
          0,
          orbitRadius * Math.sin(angle)
        ));
      }
      const orbitGeometry = new THREE.BufferGeometry().setFromPoints(orbitPoints);
      const orbitMaterial = new THREE.LineBasicMaterial({ color: 0x00ff00 });
      const orbitLine = new THREE.LineLoop(orbitGeometry, orbitMaterial);
      scene.add(orbitLine);

      // === Satellite ===
      const satGeo = new THREE.BoxGeometry(0.05, 0.05, 0.05);
      const satMat = new THREE.MeshStandardMaterial({ color: 0xff0000 });
      const satellite = new THREE.Mesh(satGeo, satMat);
      scene.add(satellite);

      // === Animation ===
      let angle = 0;
      function animate() {
        requestAnimationFrame(animate);
        angle += 0.01;
        satellite.position.set(
          orbitRadius * Math.cos(angle),
          0,
          orbitRadius * Math.sin(angle)
        );
        renderer.render(scene, camera);
      }
      animate();

      // === Resize handler ===
      window.addEventListener("resize", () => {
        const width = window.innerWidth;
        const height = window.innerHeight;
        renderer.setSize(width, height);
        camera.aspect = width / height;
        camera.updateProjectionMatrix();
      });
    </script>
  </body>
</html>